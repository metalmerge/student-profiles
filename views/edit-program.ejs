<%- include('partials/header') %>
<div class="container">
<% if (add || program) { %>
	<form method="post" action="/<%=add ? 'program_add' : `program_edit/${program.id}`%>">
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="title">Title</label>
				<input type="text" class="form-control" name="title" value="<%=program.title%>" required>
			</div>
			<div class="form-group col-md-6">
				<label for="description">Description</label>
				<input type="text" class="form-control" name="description" value="<%=program.description%>" required>
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="start_date">Start Date</label>
				<input type="text" class="form-control" name="start_date" value="<%=program.start_date%>" required>
			</div>
			<div class="form-group col-md-6">
				<label for="end_date">End Date</label>
				<input type="text" class="form-control" name="end_date" value="<%=program.end_date%>" required>
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="min_grade_level">Minimum Grade Level</label>
				<select name="min_grade_level" class="form-control" required>
					<% let min_grade_levels = ["6th", "7th", "8th", "9th", "10th", "11th", "12th", "College Freshman", "College Sophmore", "College Junior", "College Senior"] %>
					<% for (let i = 0; i < min_grade_levels.length; i++) { %>
						<option <% if (program.min_grade_level == min_grade_levels[i]) { %> selected <% } %>><%= min_grade_levels[i] %></option>
					<% } %>
				</select>
			</div>
			<div class="form-group col-md-6">
				<label for="location">Location</label>
				<input type="text" class="form-control" name="location" value="<%=program.location%>" required>
			</div>
		</div>
		<div class="form-row">
			<div class="form-group col-md-6">
				<label for="max_grade_level">Maximum Grade Level</label>
				<select name="max_grade_level" class="form-control" required>
					<% let max_grade_levels = ["6th", "7th", "8th", "9th", "10th", "11th", "12th", "College Freshman", "College Sophmore", "College Junior", "College Senior"] %>
					<% for (let i = 0; i < max_grade_levels.length; i++) { %>
						<option <% if (program.max_grade_level == max_grade_levels[i]) { %> selected <% } %>><%= max_grade_levels[i] %></option>
					<% } %>
				</select>
			</div>
			<div class="form-group col-md-6">
				<label for="student_list">Students Involved</label>
				<select class="form-control" name="student_list" multiple>
					<% for (let i = 0; i < students.length; i++) { %>
						<option><%= students[i].first_name %> <%= students[i].last_name %></option>
					<% } %>
				</select>
			</div>
			<div class="form-group col-md-6" <% if (add) { %> style="display: none" <%}%> >
				<label for="program_id_number">Program ID</label>
				<input type="text" class="form-control" name="program_id_number" value="<%=program.program_id_number%>" readonly required>
			</div>
		</div>
		<button type="submit" class="btn btn-success float-right"><%= add ? 'Add' : 'Update' %> program</button>
	</form>
	<% if (program.status == "inactive") { %>
		<a href="/program_reactivate/<%= program.id %>" class="btn btn-info float-left">Reactivate</a>
	<% } %>
<% } else { %>
	<p class="text-center">Program Not Found.</p>
<% } %>
</div>
</div>
</body>
</html>